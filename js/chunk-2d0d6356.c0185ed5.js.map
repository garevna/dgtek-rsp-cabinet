{"version":3,"sources":["webpack:///./src/components/customers/CustomersList.vue?f7ca","webpack:///src/components/customers/CustomersList.vue","webpack:///./src/components/customers/CustomersList.vue?4dca","webpack:///./src/components/customers/CustomersList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","statuses","model","value","callback","$$v","status","expression","speeds","speed","plans","plan","postalCodes","postCode","headers","filteredItems","search","scopedSlots","_u","key","fn","ref","item","on","$event","editItem","_v","deleteItem","_s","selectedCustomersNumber","dialog","selectedCustomerId","_e","staticRenderFns","name","components","CustomerDetails","data","text","align","sortable","computed","customers","map","length","methods","getData","console","log","result","ready","getServices","services","id","mounted","warn","$root","$on","__getCustomers","__getServices","component","VCard","VCardTitle","VDataTable","VDialog","VIcon","VSelect","VTextField"],"mappings":"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","file":"js/chunk-2d0d6356.c0185ed5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ready)?_c('v-card',{staticClass:\"transparent pb-12 px-12\",attrs:{\"flat\":\"\"}},[_c('v-card-title',[_c('table',[_c('tbody',[_c('tr',[_c('td',[_c('v-select',{staticStyle:{\"width\":\"270px\"},attrs:{\"items\":_vm.statuses,\"label\":\"Service status\",\"outlined\":\"\",\"clearable\":\"\",\"dense\":\"\",\"color\":\"#900\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}})],1),_c('td',[_c('v-select',{staticStyle:{\"width\":\"180px\"},attrs:{\"items\":_vm.speeds,\"label\":\"Service speed\",\"outlined\":\"\",\"clearable\":\"\",\"dense\":\"\",\"color\":\"primary\"},model:{value:(_vm.speed),callback:function ($$v) {_vm.speed=$$v},expression:\"speed\"}})],1),_c('td',[_c('v-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"items\":_vm.plans,\"label\":\"Plan\",\"outlined\":\"\",\"clearable\":\"\",\"dense\":\"\",\"color\":\"primary\"},model:{value:(_vm.plan),callback:function ($$v) {_vm.plan=$$v},expression:\"plan\"}})],1),_c('td',[_c('v-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"items\":_vm.postalCodes,\"label\":\"Post code\",\"outlined\":\"\",\"clearable\":\"\",\"dense\":\"\",\"color\":\"primary\"},model:{value:(_vm.postCode),callback:function ($$v) {_vm.postCode=$$v},expression:\"postCode\"}})],1)])])])]),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.filteredItems,\"search\":_vm.search},scopedSlots:_vm._u([{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}}],null,false,3840325745)}),_c('v-text-field',{staticStyle:{\"display\":\"inline-block\",\"width\":\"280px\"},attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"dense\":\"\",\"outlined\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('span',{staticClass:\"ml-12\"},[_c('small',[_vm._v(\"Total selected customers: \"+_vm._s(_vm.selectedCustomersNumber))])]),_c('v-dialog',{attrs:{\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('CustomerDetails',{attrs:{\"customerId\":_vm.selectedCustomerId}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card flat class=\"transparent pb-12 px-12\" v-if=\"ready\">\n    <v-card-title>\n      <table>\n        <tbody>\n          <tr>\n            <td>\n              <v-select\n                :items=\"statuses\"\n                v-model=\"status\"\n                label=\"Service status\"\n                outlined\n                clearable\n                dense\n                color=\"#900\"\n                style=\"width: 270px\"\n              ></v-select>\n            </td>\n            <td>\n              <v-select\n                :items=\"speeds\"\n                v-model=\"speed\"\n                label=\"Service speed\"\n                outlined\n                clearable\n                dense\n                color=\"primary\"\n                style=\"width: 180px\"\n              ></v-select>\n            </td>\n            <td>\n              <v-select\n                :items=\"plans\"\n                v-model=\"plan\"\n                label=\"Plan\"\n                outlined\n                clearable\n                dense\n                color=\"primary\"\n                style=\"width: 140px\"\n              ></v-select>\n            </td>\n            <td>\n              <v-select\n                :items=\"postalCodes\"\n                v-model=\"postCode\"\n                label=\"Post code\"\n                outlined\n                clearable\n                dense\n                color=\"primary\"\n                style=\"width: 140px\"\n              ></v-select>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </v-card-title>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"filteredItems\"\n      :search=\"search\"\n    >\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"editItem(item)\"\n        >\n          mdi-pencil\n        </v-icon>\n        <v-icon\n          small\n          @click=\"deleteItem(item)\"\n        >\n          mdi-delete\n        </v-icon>\n      </template>\n    </v-data-table>\n    <v-text-field\n      v-model=\"search\"\n      append-icon=\"mdi-magnify\"\n      label=\"Search\"\n      single-line\n      dense\n      outlined\n      hide-details\n      style=\"display: inline-block; width: 280px\"\n    ></v-text-field>\n\n    <span class=\"ml-12\"><small>Total selected customers: {{ selectedCustomersNumber }}</small></span>\n    <v-dialog v-model=\"dialog\" transition=\"dialog-bottom-transition\">\n      <CustomerDetails :customerId=\"selectedCustomerId\" />\n    </v-dialog>\n  </v-card>\n</template>\n\n<script>\n\nexport default {\n  name: 'CustomersList',\n  components: {\n    CustomerDetails: () => import('@/components/customers/CustomerDetails.vue')\n  },\n  data: () => ({\n    ready: false,\n    dialog: false,\n    data: null,\n    search: '',\n    status: null,\n    speed: null,\n    services: [],\n    plans: [],\n    service: null,\n    plan: null,\n    postCode: null,\n    statuses: ['Active', 'Not connected', 'Awaiting for connection'],\n    speeds: ['50/50', '150/150', '250/250', '500/500', '1000/1000'],\n    headers: [\n      {\n        text: 'Customer name',\n        align: 'start',\n        sortable: false,\n        value: 'name'\n      },\n      { text: 'Unique code', value: 'uniqueCode' },\n      { text: 'Address', value: 'address' },\n      { text: 'Service speed', value: 'serviceSpeed' },\n      { text: 'Service status', value: 'serviceStatus' },\n      { text: 'Plan', value: 'plan' },\n      { text: 'Approx ETA', value: 'approxETA' },\n      { text: 'Term', value: 'serviceTerm' },\n      { text: 'Actions', value: 'actions', sortable: false }\n    ],\n    selectedCustomerId: null\n  }),\n  computed: {\n    customers () {\n      if (!this.data) return\n      return this.data.map(customer => ({\n        name: `${customer.firstName} ${customer.lastName}`,\n        uniqueCode: customer.uniqueCode,\n        postCode: customer.postCode,\n        address: `${customer.apartmentsNumber}/${customer.address}`,\n        plan: customer.service ? customer.service.serviceName : '',\n        status: customer.service ? customer.service.status : '',\n        approxETA: customer.approxETA,\n        term: customer.service ? customer.service.term : '',\n        id: customer._id\n      }))\n    },\n    postalCodes () {\n      return this.customers.map(customer => customer.postCode)\n    },\n    selectedCustomersNumber () {\n      return this.filteredItems.length\n    },\n    filteredItems () {\n      if (!this.status && !this.speed && !this.postCode && !this.plan) return this.customers\n      return this.customers\n        .filter(customer => !this.status || (customer.serviceStatus === this.status))\n        .filter(customer => !this.speed || (customer.serviceSpeed === this.speed))\n        .filter(customer => !this.postCode || (customer.postCode === this.postCode))\n        .filter(customer => !this.plan || (customer.plan === this.plan))\n    }\n  },\n  methods: {\n    getData (data) {\n      console.log(data)\n      this.data = data.result\n      this.ready = true\n    },\n    getServices (data) {\n      this.services = data.result\n    },\n    editItem (item) {\n      console.log(item)\n      this.selectedCustomerId = item.id\n      this.dialog = true\n    }\n  },\n  mounted () {\n    console.warn('CUSTOMERS LIST MOUNTED')\n    this.$root.$on('customers-list-received', this.getData)\n    this.$root.$on('services-list-received', this.getServices)\n    this.__getCustomers()\n    this.__getServices()\n  }\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomersList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomersList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomersList.vue?vue&type=template&id=660bb0f2&scoped=true&\"\nimport script from \"./CustomersList.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomersList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"660bb0f2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VCardTitle,VDataTable,VDialog,VIcon,VSelect,VTextField})\n"],"sourceRoot":""}