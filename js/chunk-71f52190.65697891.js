(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71f52190"],{b5b1:function(e,t,s){"use strict";s("d16f")},d16f:function(e,t,s){},d98a:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"transparent mx-auto",attrs:{flat:"",width:"960"}},[s("fieldset",{staticClass:"my-4 pa-8"},[s("legend",{staticClass:"ml-4"},[s("h5",[e._v("Building details")])]),s("v-toolbar",{staticClass:"transparent",staticStyle:{"box-shadow":"none"}}),e.schema?s("v-card",{staticClass:"transparent mt-0",attrs:{flat:""}},[s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{staticClass:"d-none d-md-flex",attrs:{cols:"4","col-lg":"3","col-xl":"2"}},[s("small",[e._v("Building address")])]),s("v-col",{attrs:{cols:"8","col-lg":"6","col-xl":"5"}},[e._v(" "+e._s(e.schema.address.value)+" ")])],1),s("v-row",{attrs:{justify:"center"}},[s("v-col",{staticClass:"d-none d-md-flex mb-8",attrs:{cols:"4","col-lg":"3","col-xl":"2"}},[s("small",[e._v("Building unique code")])]),s("v-col",{attrs:{cols:"8","col-lg":"6","col-xl":"5"}},[e._v(" "+e._s(e.schema.buildingUniqueCode.value)+" ")])],1)],1),e._l(["management","owner"],(function(t){return s("v-container",{key:t},e._l(e.schema[t],(function(t,i){return s("v-row",{key:i,staticClass:"my-0",attrs:{justify:"center"}},[s("v-col",{staticClass:"d-none d-md-flex",attrs:{cols:"4","col-lg":"3","col-xl":"2",justify:"end"}},[s("small",[e._v(e._s(t.title))])]),s("v-col",{attrs:{cols:"8","col-lg":"6","col-xl":"5"}},[e.textField(t)?s("v-text-field",{attrs:{label:t.title,rules:[t.required?e.rules.required:function(e){return!0},e.rule(t)],outlined:"",dense:"","hide-details":""},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"prop.value"}}):e._e(),"mobile"===t.type?s("v-text-field",{attrs:{prefix:"+61",rules:[t.required?e.rules.required:function(e){return!0},e.rules.mobile],label:"prop.title",outlined:"",dense:"","hide-details":""},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"prop.value"}}):e._e()],1)],1)})),1)}))],2):e._e(),s("v-card-actions",{staticClass:"my-8"},[s("v-spacer"),s("v-btn",{staticClass:"buttons",attrs:{dark:""},on:{click:e.saveBuildingDetails}},[e._v("Save")])],1)],1)])},a=[],n=(s("b64b"),s("ade3")),l=s("f61f"),o=s("ce96"),r={name:"EditBuildingDetails",props:{buildingData:Object},data:function(){return{ready:!1,schema:l["a"],buildingDetails:{},rules:l["h"],buildingType:null,sections:{management:"buildingManagement",owner:"buildingOwner"}}},computed:{},watch:{buildingData:{deep:!0,immediate:!0,handler:function(e){if(console.log("BUILDING DATA UPDATED:\n",e),e){this.schema.address.value=e.buildingAddress,this.schema.buildingUniqueCode.value=Object(o["a"])(e.buildingAddressComponents);for(var t=0,s=Object.keys(this.sections);t<s.length;t++){var i=s[t];for(var a in this.schema[i])console.log(this.sections[i],a,e[this.sections[i]][a]),this.schema[i][a].value=e[this.sections[i]][a]}}}}},methods:{getData:function(e){this.schema.address.value=e.buildingAddress,this.schema.buildingUniqueCode.value=Object(o["a"])(e.buildingAddressComponents);for(var t=0,s=Object.keys(this.sections);t<s.length;t++){var i=s[t];for(var a in this.schema[i])console.log(this.sections[i],a,e[this.sections[i]][a]),this.schema[i][a].value=e[this.sections[i]][a]}},getNewBuildingId:function(e){console.log("NEW BUILDING CREATED EVENT:\n",e),this.$root.$emit("progress-event",!1),this.$root.$emit("open-message-popup",{messageType:"New building",messageText:"Created"})},sendMessage:function(e){this.$root.$emit("progress-event",!1),console.log("SAVE BUILDING EVENT:\n",e),this.$root.$emit("open-message-popup",{messageTyle:"Building details",messageText:"Data updated"})},rowHeight:function(e){return"textarea"===e.type?160:60},textField:function(e){return Object(o["c"])(e.type)},rule:function(e){return this.rules[e.type]},saveBuildingDetails:function(){for(var e={address:this.schema.address.value,management:{},owner:{}},t=0,s=["management","owner"];t<s.length;t++){var i=s[t];for(var a in this.schema[i])Object.assign(e[i],Object(n["a"])({},a,this.schema[i][a].value))}console.log(this.buildingData.buildingId),console.log(e),this.$root.$emit("progress-event",!0),this.buildingData.buildingId?this.__putBuildingDetails(this.buildingData.buildingId,e):this.__postBuildingDetails(e),this.$emit("update:dialog",!1)}},beforeDestroy:function(){this.$root.$off("buildings-data-saved",this.sendMessage),this.$root.$off("new-building-created",this.getNewBuildingId)},mounted:function(){console.warn("BUILDING MOUNTED:\n",this.buildingData),this.$root.$on("buildings-data-saved",this.sendMessage),this.$root.$on("new-building-created",this.getNewBuildingId)}},d=r,c=(s("b5b1"),s("2877")),u=s("6544"),g=s.n(u),h=s("8336"),m=s("b0af"),v=s("99d9"),f=s("62ad"),b=s("a523"),p=s("0fd9"),w=s("2fa4"),D=s("8654"),x=s("71d9"),C=Object(c["a"])(d,i,a,!1,null,"50a4e6f0",null);t["default"]=C.exports;g()(C,{VBtn:h["a"],VCard:m["a"],VCardActions:v["a"],VCol:f["a"],VContainer:b["a"],VRow:p["a"],VSpacer:w["a"],VTextField:D["a"],VToolbar:x["a"]})}}]);
//# sourceMappingURL=chunk-71f52190.65697891.js.map