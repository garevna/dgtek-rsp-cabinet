(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eb3951e"],{1681:function(t,e,s){},"8ab8":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"transparent mx-auto py-5",attrs:{flat:""}},[s("v-row",{attrs:{justify:"center"}},[t.categories?s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-select",{staticStyle:{width:"270px"},attrs:{items:t.categories,label:"Ticket category",outlined:"",dense:"",color:"#900"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1):t._e(),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-select",{staticStyle:{width:"270px"},attrs:{items:t.severities,label:"Severity",outlined:"",dense:"",color:"#900"},model:{value:t.severity,callback:function(e){t.severity=e},expression:"severity"}})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-select",{staticStyle:{width:"270px"},attrs:{items:t.priorities,label:"Priority",outlined:"",dense:"",color:"#900"},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}})],1)],1),s("v-row",[s("v-col",{staticClass:"text-right",attrs:{cols:"3"}},[s("p",[t._v("Subject")])]),s("v-col",{attrs:{cols:"9"}},[s("v-text-field",{attrs:{label:"Subject",outlined:"","hide-details":""},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1)],1),"Customer issue"===t.category||"Service issue"===t.category?s("v-row",[s("v-col",{staticClass:"text-right",attrs:{cols:"3"}},[s("p",[t._v("Customer")])]),t.customersList?s("v-col",{attrs:{cols:"9"}},[s("v-select",{attrs:{items:t.customersList,outlined:"",chips:""},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}})],1):t._e()],1):t._e(),s("v-row",[s("v-textarea",{attrs:{label:"Details",outlined:""},model:{value:t.details,callback:function(e){t.details=e},expression:"details"}})],1),s("v-row",[s("v-col",{staticClass:"text-right",attrs:{cols:"12",md:"6"}},[s("p",[s("small",[t._v("Contact number of the responsible person")])])]),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{label:"Phone",outlined:"",dense:"","persistent-hint":"",hint:"* For urgent matters only"},model:{value:t.contactPhone,callback:function(e){t.contactPhone=e},expression:"contactPhone"}})],1)],1),s("v-row",{staticClass:"mt-12"},[s("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){return t.$emit("update:edit",!1)}}},[t._v("Back to tickets list")]),s("v-spacer"),s("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.save}},[t._v("Update/save details")])],1)],1)},o=[],a=(s("99af"),s("c740"),s("d81d"),s("fb6a"),s("ade3")),c={name:"EditTicket",props:["ticket","categories","newTicket","edit"],data:function(){return{severities:["Low","Medium","Hight"],priorities:["Low","Medium","Hight"],customersList:null,customersIds:null,customer:null}},computed:{category:{get:function(){return this.ticket.category},set:function(t){this.update("category",t)}},severity:{get:function(){return this.ticket.severity},set:function(t){this.update("severity",t)}},priority:{get:function(){return this.ticket.priority},set:function(t){this.update("priority",t)}},subject:{get:function(){return this.ticket.subject},set:function(t){this.update("subject",t)}},details:{get:function(){return this.ticket.details},set:function(t){this.update("details",t)}},customerId:{get:function(){return this.ticket.customerId},set:function(t){this.update("customerId",t)}},contactPhone:{get:function(){return this.ticket.contactPhone},set:function(t){this.update("contactPhone",t)}}},watch:{customer:function(t){if(this.customersList){var e=this.customersList.findIndex((function(e){return e===t}));-1!==e&&(this.customerId=this.customersIds[e])}}},methods:{fillCustomerList:function(t){var e=this;this.customersList=t.result.map((function(t){return"".concat(t.apartmentNumber,"/").concat(t.address)})),this.customersIds=t.result.map((function(t){return t._id}));var s=this.customersIds.findIndex((function(t){return t===e.ticket.customerId}));this.customer=-1!==s?this.customersList[s]:null},postNewTicket:function(){this.__postNewTicket(this.ticket)},updateTicket:function(){this.update("modified",(new Date).toISOString().slice(0,10)),this.__saveTicketData(this.ticket._id,this.ticket)},save:function(){this.newTicket?this.postNewTicket():this.updateTicket()},callback:function(t){this.customerName="".concat(t.apartmentNumber,"/").concat(t.address," (").concat(t.firstName," ").concat(t.lastName,")")},update:function(t,e){this.$emit("update:ticket",Object.assign({},this.ticket,Object(a["a"])({},t,e)))}},mounted:function(){this.$root.$on("customers-list-received",this.fillCustomerList),this.__getCustomers()}},n=c,r=s("2877"),u=s("6544"),l=s.n(u),d=s("8336"),h=s("b0af"),p=s("62ad"),m=s("0fd9"),f=s("b974"),v=s("2fa4"),g=s("8654"),k=s("a844"),w=Object(r["a"])(n,i,o,!1,null,null,null);e["default"]=w.exports;l()(w,{VBtn:d["a"],VCard:h["a"],VCol:p["a"],VRow:m["a"],VSelect:f["a"],VSpacer:v["a"],VTextField:g["a"],VTextarea:k["a"]})},a844:function(t,e,s){"use strict";s("a9e3");var i=s("5530"),o=(s("1681"),s("8654")),a=s("58df"),c=Object(a["a"])(o["a"]);e["a"]=c.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(i["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,s=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(s,e)+"px"}},genInput:function(){var t=o["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){o["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=chunk-0eb3951e.5123cbb5.js.map